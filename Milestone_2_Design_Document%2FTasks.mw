[[Milestone 2 Design Document]]

= Task List =

* optimize the build process, building SuperTux currently takes ages (I don't see how we could speed it up..., MatzeB)
* <strike>change game back to use Milestone1 single-sprite SuperTux (done)</strike>
* do a 32x32 top-down water animation for the worldmap
* Tux isn't centered properly to his collision box
* [http://www.unicode.org/charts/PDF/U0400.pdf Cyrillic Font]
*:See:
*:http://sourceforge.net/mailarchive/message.php?msg_id=Pine.LNX.4.50.0407311832440.2887-100000%40kiff.local
*:http://pingus.seul.org/~grumbel/tmp/md5/6a7e3ff759ad7ca802ec8fcb2e96b9e5-supertux-rus-files2.tar.bz2
* seperate lisp reader, tinygettext and other libraries properly out of SuperTux
* write TexturePacker to place multiple images on a single texture (better use of texture space and fixes bug with tiles having junk on the edge)
* <strike>switch supertux-editor over to CMake? (done, is now a simple Makefile)</strike>
* reorganize the editor to something more like this [http://pingus.seul.org/~grumbel/tmp/md5/68413a9004b402c38a8dd24bf785e2f0-supertux-editor-mockup.png SuperTux-Editor MookUp]
* create a timeline what shall be done and when
* discuss in the meeting what shall be done over the coming week

= Bug List/Feature Requests =

* <strike>when BigTux ducks, the camera moves/jumps, but should stand still (fixed, MatzeB)</strike>
* InfoBox crashes when Text doesn't start with a marker character
* there should be an script command to change the game speed (i.e. run in slowmotion)
* background graphics glitch at non-800x600 resolutions (black line where background tiles), reason for this is that background gets copied to a 1024x1024 texture with a black border, at non 800x600 resolutions the right edge becomes blended with this black border, need to add 1px border around the texture to fix this blending bug (alternative: use GL_NEAREST instead of GL_LINEAR)
* Tux isn't animated when he dies (caused by "grow-right" and then "gameover" being set over and over again, so framecount is always 0)
* Editor: sort (new) layers by z-value
* Editor: show tile attributes in editor, especially for non-solid and unisolid there is often a very similar solid tile. Either add special editor-images for unisolid, some overlay icon for the tile selector or at least a hint in the status bar.

= Tasks for the next two weeks =

== Week 1 ==

* finish canon graphics, also snowball graphics, death, etc (Grumbel)
* create ice-spikes graphics (Grumbel)
* create ice-tiles graphics (Grumbel)
* create angry ice-block graphics (Grumbel)
* <strike>bring back single-sprite SuperTux (done)</strike>
* create an overview over the current levels (Grumbel)
* finish editor improvements (MatzeB)
* try to fix white-lines around graphics problems (MatzeB)
* <strike>jump with keyboard up (done, WolfgangB)</strike>

== Week 2 ==

* repair jump Tux sprite (to dark black) (Grumbel)
* butt jump animation (Grumbel)
* backflip animation (Grumbel)
* snowman graphics (Grumbel)
* figure out a Jumpy replacement (Grumbel)
* create SuperTux .xo Activity for OLPC (Grumbel)
* some decore for ice tiles, cracks and stuff (Grumbel)
* replace "you found a secret area" with a special sound (Wansti)
* <strike>rename trunk/supertux-sharp to trunk/supertux-editor to make it clear that it is the primary editor (MatzeB)</strike>
* <strike>Stay-on-platform snowball (done, WolfgangB)</strike>
* <strike>snowball-launcher (done. WolfgangB)</strike>

== Week 3 ==

* create proper background tiles for level22
* create some playable test levels for new stuff
* create mountain and night background
* replace old bomb with new bomb sprite
* create an enemy type that doesn't just walk straight into one direction, but does something different depending on Tux direction (ninja)
** <small>Is this a dupe of the Crystallo proposal for week 4? - [[User:Sik0fewl|sik0fewl]] 19:58, 15 May 2008 (UTC)</small>
* integrate snowjumpy
* finish icecrusher graphics
* add some acceleration/deceleration to flying snowball

== Week 4 ==

* deep snow tiles
* icicle graphics for decoration purpose
* editor doesn't align canon and icecrusher properly (grid is wrong)
* new enemy type with more interesting walking pattern (follows Tux as long as Tux doesn't look, walks forward and backward, etc.), see Crystallo for a possible sprite
* use pink snowball for stay on platform, use normal snowball for straight forward walk

== Week 5 ==

* <strike>add a "scan for joysticks" to the "No Joysticks found" in "Setup Joystick" to allow hotplugging (done, WolfgangB)</strike>
* remove pictures from credits, looks to uneven that way 
:<sup>Really? I like the pictures. --[[User:WolfgangB|WolfgangB]] 19:00, 29 April 2008 (UTC)</sup>
* animate minibomb

== Week 6 ==

* paint tutorial boards for grabbing, backflip and run-jump
* add gamma control to the option menu, see: int SDL_SetGamma (float redgamma, float greengamma, float bluegamma);

* <strike>peeking should work in in both X and Y at the same time (for use with second analog stick on todays gamepads) (done, WolfgangB)</strike>

* <strike>add an cmd option --default</strike> and/or a menu entry "Reset to Default" to reset any changes to resolution or aspect ratio (or something along those lines) (cmd done, WolfgangB)

== Week 7 ==

* <strike>add a set_gamespeed() so that the game can run in slow motion for debugging '''[done]'''</strike>
* Malformed UTF-8 sequences should not be handled as fatal error, just insert '?' instead (happens with German translation) (fixed? MatzeB)
* SuperTux should stand on the ground when a level starts, not fall down
* level startup needs a fade-in, so does game startup, level abort and a few other places
* the menu should shrink instead of just disappear
* make aspect ration option menu thing work
* draw a bigger arrow for when Tux is jumping out of the screen
* add SuperTux idle animations (stage1: blinking with the eye, stage2: tipping with the food, stage3: scratching the head)
* think of a new way to represent the exit area (snow molted with smooth ground below or so)
* peeking up/down keys seem to be unbound by default
* merge AngryStone and Icecrusher, both do the same thing, just with different graphics (actually they don't, maybe they should?)
* peeking should stick instead of jumping back or jumping back should be limited to normal range that the camera can do
* save screenshots in png instead of bmp

== Week 8 ==

* add all fade-in/out effects to DisplayEffect
* fix editor so that it works without a mouse wheel
* <strike>fix default peek keybindings, seem to be wrong</strike>
* <strike>add a way to enable the console from within the game</strike>
* fix console command set_game_speed() so that it doesn't slow down the console
* document the behaviour of all badguys to be used in Milestone2 along with how they interact with each other
* add turn-around animation for smart-snowball
* fix and cleanup all the enemy names
* add 'recent files' to level editor
* when Tux dies he can fly behind blocks instead of in front of them, drawing order bug
* add sprite scaling and rotation
* fix/add/cleanup menu entry names and descriptions to be better understandable
* need to properly auto-detect and set aspect ratio on games first startup (i.e. on a 1280x1024 screen aspect must be set to 5:4, not 4:3)
* option menu entries are currently not in sync with gameconfig
* add scale-with-window option to magnification or something like that
* properly GPL'ify the supertux-editor (COPYING file, GPL headers, etc.)
* add PNG support for screenshots, BMP support currently broken

== Week 9 ==

* make left/right change an option in the menu, let enter apply it (needed for fullscreen)
* bug: can't walk left and jump while pressing ctrl, when going right the same works, might be keyboard specific (Microsoft Natural Ergonomic Keyboard 4000 USB suffers from it, on the same PC a PS/2 keyboard works, maybe kernel driver bug)

= Enemy Issues =

* General: Get rid of bouncing snowballs killing normal snowballs and other unintended behaviour
* General: Get rid of enemies stacking on top of each other
* General: Have particle throwing starting enemies (fireflower like)
* General: Do something about the walking speed, feels wrong at the moment, maybe a bit slower
* <del>Spiky: Shouldn't alway sleep, either make it an option or better make a new enemy type for sleeping behaviour</del> (Thats already done that way, there is [[Spiky]] and [[Sleeping Spiky]]).
* Spiky: Walkcycle animation looks broken, there is a frame missing
* Snowball(normal): Animation ruined
* Snowball(stay-on-platfrom): Replace with female snowball graphic
* Bomb: Roll back to behavior of Milestone1, get rid of particle effects
* Bomb: Replace graphic with new bomb graphic
* Bomb(normal): let the fuse burn after one touched it
* Bomb(crazy): new bomb type (crazy pink bomb) that runs around after being touched
* Flying Snowball: Add acceleration/deceleration instead of linear up and down
* Flying Snowball: smoke effect for the motor seem to be to seldomly triggered
* Icecrusher: gravitation instead of linear, facial expression, maybe screenshacking
* Icecrusher(big): add a larger version of the icecrusher, twice the size
* Iceblock: transparency looks shit on dark backgrounds, Wiki had a better locking version floating around
* AngryBonusBlock: Have a bonus block type that comes to live when tux jumps against it and then chases Tux
* FlyingSnowball: Remove randomness, should be periodic and predictable
