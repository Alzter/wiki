For the old page, see [[Milestone 3 Design Document]]

This document is meant to give a reasonably detailed guide on what shall and shall not happen in Milestone 2. It is also intended as a complete replacement of other, incomplete or otherwise flawed, Milestone 2 documents floating around in this Wiki. This design document is written by Grumbel, question and comments are welcome, use the Talk page or the IRC channel for that. At the moment this document is a work-in-progress, meaning goals might change as time progresses. This document as not yet been approved by any other member of the SuperTux development stuff.

__TOC__

= Overview = 

Doing a forest world turned out impractical with the current available and active man-power for that reason Milestone 2 got retargeted to a much smaller accomplishable goal.

= General =

* Tux run animation shall be rolled back to the single-sprite on that was used in Milestone 1, the current split-image animation is far inferior
* uni-solid tiles shall be provided for all tilesets
* multi-layer paralax scrolling background tilemaps shall be used in all levels
* menu system should be replaced/reworked
* save system could need a rework as well
* language shall be changeable via the option menu, LANG environment variable shall only be used as default setting
* worldmap Tux sprite should get animations for left, right, up, down directions, not just a single one as now

= Menu System =

Menu system of Milestone1 is rather ugly and could need a rewrite as well as a reorganization of some things:

* menu system needs support for scrolling, large lists of levels currently break it
* profiles should replace save slots (XBox-like)
* on Linux there is no real need for multiple save slots, only one should be used by default

== Main Menu ==

* Story/Start Game -> worldmap
* Contrib Levels -> submenu
* Options -> submenu
* Credits -> Credit Screen
* Quit -> exit the game

== Options == 

* Language
* Fullscreen: yes/no
* Aspect Ratio: 16/9, 16/10, 5/4, 4/3
* Sound Volume: off/0-100
* Music Volume: off/0-100
* Setup Keyboard:
* Setup Joystick:

== Contrib Levels ==

* Check for new stuff online
* complete contrib worlds
* browse folders with level stuff

= Controls =

Game Controls will be configurable, either the keyboard or a joystick can be used, additional support for more exotic devices such as Wiimotes might be present as well. The basic control scheme works by having a dpad (left, right, up, down) along with one or two action buttons, depending on the users configuration one action button will be used for jump and the other for grabbing object or jump will be bound to the up-direction and just one action button is needed for grabbing.

== Configuration 1 (jump with button) ==

* left/right/up/down: navigate worldmap and levels
* up: enter doors
* action1: jump, enter a level
* action2: grab

== Configuration 2 (jump with up)

* left/right/up/down: navigate worldmap and levels
* up: jump or enter doors
* action1: grab, enter a level

Additional buttons allow to pause the game, enter the menu and other meta-game functions.

== Jumping ==
FIXME: How high, how is it influenced by running?
<br clear="all" />

== Running ==
FIXME: How fast, how does it influence jump, how long is acceleration?

<br clear="all" />

== Backflip ==
The backflip is a special jump which gives Tux some extra height compared to a normal jump.
<br clear="all" />

== Butt Jump ==
[[Image:Supertux-buttjump.png|thumbnail|right|Butt Jump]]
The Butt Jump is activated by pressing down while in the air. It causes Tux to crush down on the exact spot over which he currently is. The butt jump provides additional force that allows him to crush blocks and some kind of armored enemies.
<br clear="all" />

= Game Elements =

== Icefloe ==

[[Image:Icefloe.png|thumbnail|right|Ice Floe]]

= Creatures =

== Starfish ==

Star shall get replaced by a starfish.

== Ice Fish == 

Already in the code, but not much used in Milestone1 Levels
<br clear="all" />

== Owl ==
[[Image:Owl.png|thumbnail|right|Owl]]
A flying enemy that can land on trees and carry things around to throw at Tux.
<br clear="all" />

== Angry Iceblock ==
[[Image:Angrystone.png|thumbnail|right|Angry Stone]]

Like Angry Stone, but with iceworld theme.
<br clear="all" />

== Canon ==
[[Image:Canon.png|thumbnail|right|Canon]]
The canon can be mounted on either static or rotatable pedestal. It shoots angry looking canonballs.

<br clear="all" />

== Mini Bomb ==
[[Image:Minibomb.png|thumbnail|right|Mini-Bomb]]
The Mini-Bomb is an small version of the normal bomb, it approaches in groups most of the time and is aggressive, it however is non-lethal to Tux and only works to either distract him and throw him back.
<br clear="all" />

== Spitter ==
[[Image:Spitter.png|thumbnail|right|Spitter]]
The spitter acts as walking dispenser, the enemy type that he can spit out might be limited to mini-bombs and similarly small enemies.
<br clear="all" />

== Yeti ==
[[Image:Yeti-concept.jpg|thumbnail|right|64px|Yeti]]
[[Image:Yetiapproach.png|thumbnail|left|Yeti Boss Cutscene]]

The Yeti is the boss that awaits Tux in the first castle. After entering the throne room Tux will find a letter in which Nolok tells Tux of the other castles in other worlds (see Milestone1 extro.txt). In the background there is a window. While reading the note one will see a shadow approaching the window and soon after the Yeti jumping through the window. The normal boss battle starts instantly after the jump.
<br clear="all" />

== Snowman ==
[[Image:Snowman-variations.png|thumbnail|right|Snowman]]

* a snowman enemy shall be added, a snowman is build out of a base body combined with a snowball head, if the body is destroyed, the snowman turns into a snowball

== Stay-On-Platform Snowball ==

* an additional type of snowballs shall be provided to signal stay-on-platform behaviour (a bandana or something like that)

== Crystallo ==

[[Image:Crystallo.png|thumbnail|right|Crystallo]]

???

== Eater ==
[[Image:Eater.png|thumbnail|right|Eater]]
The Eater is a very small enemy, half the size of a snowball, he can however expand a lot. If Tux gets to close to him the Eater will open his mouth wide enough that he can devour Tux or even other badguys. He his not defeatable by jumping onto him, since he will then just eat Tux. Throwing stuff at him won't work either, since again he will just eat them.
<br clear="all" />

= World 1 - Icyisland =

World 1, the icyisland, was released with Milestone 1, the intend of Milestone 2 is to adapt it to the new engine features as well as improving it by adding new enemies and new gameplay elements. While level structure might be recyclable in many places, it will often need structural improvements to provide real use of vertical and horizontal scrolling, instead of just locking the player in a horizontal-only scrolling level. Things that need to be done:
[[Image:Newpipe_blue.png|thumbnail|right|New Pipe Variations]]
* Jumpy shall be replaced with an enemy that fits better into the snow landscape, Jumpy himself shall be reused in a lava-like setting or in the bosses castle
* the walrus salesmen shall be added to the island
* some levels shall be separated out into optional paths, to provide a less linear path
* the old Milestone1 worldmap shall be used, not the one currently present in SVN
* iceblocks which will melt on contact with fire shall allow to lock paths in a level or lock secrets
* balanced platforms that start to rotate or move when Tux stands on them shall be provided
* water, in its simplistic tile form, shall be removed from all levels
* uni-solid/half-tiles shall be used to enhance the levels and provide optional paths
* bottom-less pits shall be either replaced by pits with spike at the bottom or allow Tux to climb back out of the pit

* there shall be auto-scrolling levels that force Tux to run by having a avalanche coming down behind him, the avalanche might either be simple snow or a large group of enemies
* the castle tileset shall be replaced with something that looks colder and features both snow and ice
* cave tileset shall be replaced with something that has a larger pattern, thus looks less ugly when tiled
* tiles picturing deadly spikes build out of ice shall be created

<br clear="all" />



= Intro/Credits =
[[Image:Introcutscene.png|thumbnail|left|Intro Storyboard]]
The text based intro and credits shall be replaced with cutscenes, showing the events that are described in the text. Instead of auto-scrolling text the game shall provide text that doesn't scroll, but instead only continues up on user interaction (i.e. press action button to see the next page of text). Text in cutscenes shall get printed letter by letter to the screen to provide a sense of 'motion'. Voice over from a story-teller might be consideration, while Tux, Penny and Nolok itself shall remain without speech.
<br clear="all"/>

= Task List =

* optimize the build process, building SuperTux currently takes ages
* change game back to use Milestone1 single-sprite SuperTux
